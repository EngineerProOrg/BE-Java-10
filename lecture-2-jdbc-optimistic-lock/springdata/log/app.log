2025-08-01T21:24:12.365+07:00  INFO 23830 --- [restartedMain] c.e.e.springdata.SpringdataApplication   : Starting SpringdataApplication using Java 17.0.11 with PID 23830 (/Users/tamd/engineerpro/k08/lecture-2-jdbc-optimistic-lock/springdata/build/classes/java/main started by tamd in /Users/tamd/engineerpro/k08/lecture-2-jdbc-optimistic-lock/springdata)
2025-08-01T21:24:12.367+07:00  INFO 23830 --- [restartedMain] c.e.e.springdata.SpringdataApplication   : No active profile set, falling back to 1 default profile: "default"
2025-08-01T21:24:12.399+07:00  INFO 23830 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-01T21:24:12.399+07:00  INFO 23830 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-01T21:24:12.615+07:00  INFO 23830 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-08-01T21:24:12.622+07:00  INFO 23830 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 JDBC repository interfaces.
2025-08-01T21:24:13.082+07:00  INFO 23830 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-08-01T21:24:13.092+07:00  INFO 23830 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-01T21:24:13.093+07:00  INFO 23830 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-08-01T21:24:13.129+07:00  INFO 23830 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-01T21:24:13.129+07:00  INFO 23830 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 730 ms
2025-08-01T21:24:13.355+07:00  INFO 23830 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-01T21:24:13.639+07:00  INFO 23830 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@613caf33
2025-08-01T21:24:13.640+07:00  INFO 23830 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-01T21:24:13.691+07:00  INFO 23830 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-08-01T21:24:13.703+07:00  INFO 23830 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-08-01T21:24:13.708+07:00  INFO 23830 --- [restartedMain] c.e.e.springdata.SpringdataApplication   : Started SpringdataApplication in 1.746 seconds (process running for 1.942)
2025-08-01T21:28:58.752+07:00  INFO 23830 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-01T21:28:58.753+07:00  INFO 23830 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-01T21:28:58.754+07:00  INFO 23830 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-08-01T21:28:58.851+07:00  INFO 23830 --- [http-nio-8080-exec-5] c.e.e.s.service.TicketBookingService     : User 1 book ticket 1
2025-08-01T21:28:58.851+07:00  INFO 23830 --- [http-nio-8080-exec-6] c.e.e.s.service.TicketBookingService     : User 2 book ticket 1
2025-08-01T21:28:58.851+07:00  INFO 23830 --- [http-nio-8080-exec-7] c.e.e.s.service.TicketBookingService     : User 3 book ticket 1
2025-08-01T21:28:58.851+07:00  INFO 23830 --- [http-nio-8080-exec-3] c.e.e.s.service.TicketBookingService     : User 5 book ticket 1
2025-08-01T21:28:58.851+07:00  INFO 23830 --- [http-nio-8080-exec-4] c.e.e.s.service.TicketBookingService     : User 4 book ticket 1
2025-08-01T21:28:58.853+07:00 DEBUG 23830 --- [http-nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-08-01T21:28:58.853+07:00 DEBUG 23830 --- [http-nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-08-01T21:28:58.853+07:00 DEBUG 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-08-01T21:28:58.853+07:00 DEBUG 23830 --- [http-nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-08-01T21:28:58.853+07:00 DEBUG 23830 --- [http-nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-08-01T21:28:58.854+07:00 DEBUG 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM tickets WHERE id = ? AND is_booked = false]
2025-08-01T21:28:58.854+07:00 DEBUG 23830 --- [http-nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM tickets WHERE id = ? AND is_booked = false]
2025-08-01T21:28:58.854+07:00 DEBUG 23830 --- [http-nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM tickets WHERE id = ? AND is_booked = false]
2025-08-01T21:28:58.854+07:00 DEBUG 23830 --- [http-nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM tickets WHERE id = ? AND is_booked = false]
2025-08-01T21:28:58.854+07:00 DEBUG 23830 --- [http-nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM tickets WHERE id = ? AND is_booked = false]
2025-08-01T21:28:58.868+07:00 TRACE 23830 --- [http-nio-8080-exec-5] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [1], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.868+07:00 TRACE 23830 --- [http-nio-8080-exec-6] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [1], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.868+07:00 TRACE 23830 --- [http-nio-8080-exec-3] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [1], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.868+07:00 TRACE 23830 --- [http-nio-8080-exec-4] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [1], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.868+07:00 TRACE 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [1], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.896+07:00  INFO 23830 --- [http-nio-8080-exec-3] c.e.e.s.service.TicketBookingService     : User 5 query ticket, got result = true
2025-08-01T21:28:58.896+07:00  INFO 23830 --- [http-nio-8080-exec-6] c.e.e.s.service.TicketBookingService     : User 2 query ticket, got result = true
2025-08-01T21:28:58.896+07:00  INFO 23830 --- [http-nio-8080-exec-4] c.e.e.s.service.TicketBookingService     : User 4 query ticket, got result = true
2025-08-01T21:28:58.896+07:00  INFO 23830 --- [http-nio-8080-exec-7] c.e.e.s.service.TicketBookingService     : User 3 query ticket, got result = true
2025-08-01T21:28:58.896+07:00 DEBUG 23830 --- [http-nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-08-01T21:28:58.896+07:00 DEBUG 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-08-01T21:28:58.896+07:00 DEBUG 23830 --- [http-nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE id = ?]
2025-08-01T21:28:58.896+07:00  INFO 23830 --- [http-nio-8080-exec-5] c.e.e.s.service.TicketBookingService     : User 1 query ticket, got result = true
2025-08-01T21:28:58.896+07:00 DEBUG 23830 --- [http-nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-08-01T21:28:58.896+07:00 DEBUG 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE id = ?]
2025-08-01T21:28:58.896+07:00 DEBUG 23830 --- [http-nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-08-01T21:28:58.896+07:00 DEBUG 23830 --- [http-nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-08-01T21:28:58.896+07:00 DEBUG 23830 --- [http-nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE id = ?]
2025-08-01T21:28:58.896+07:00 TRACE 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.896+07:00 TRACE 23830 --- [http-nio-8080-exec-6] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [2], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.896+07:00 DEBUG 23830 --- [http-nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE id = ?]
2025-08-01T21:28:58.897+07:00 TRACE 23830 --- [http-nio-8080-exec-3] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [5], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.896+07:00 DEBUG 23830 --- [http-nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE id = ?]
2025-08-01T21:28:58.897+07:00 TRACE 23830 --- [http-nio-8080-exec-4] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.897+07:00 TRACE 23830 --- [http-nio-8080-exec-5] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [1], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.898+07:00 DEBUG 23830 --- [http-nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2025-08-01T21:28:58.898+07:00 DEBUG 23830 --- [http-nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE users SET balance = ? WHERE id = ?]
2025-08-01T21:28:58.898+07:00 TRACE 23830 --- [http-nio-8080-exec-6] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [95.0], value class [java.lang.Double], SQL type unknown
2025-08-01T21:28:58.898+07:00 TRACE 23830 --- [http-nio-8080-exec-6] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [2], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.899+07:00 DEBUG 23830 --- [http-nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2025-08-01T21:28:58.899+07:00 DEBUG 23830 --- [http-nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE users SET balance = ? WHERE id = ?]
2025-08-01T21:28:58.899+07:00 TRACE 23830 --- [http-nio-8080-exec-4] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [94.0], value class [java.lang.Double], SQL type unknown
2025-08-01T21:28:58.899+07:00 TRACE 23830 --- [http-nio-8080-exec-4] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [4], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.900+07:00 DEBUG 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2025-08-01T21:28:58.900+07:00 DEBUG 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE users SET balance = ? WHERE id = ?]
2025-08-01T21:28:58.900+07:00 TRACE 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [94.0], value class [java.lang.Double], SQL type unknown
2025-08-01T21:28:58.900+07:00 TRACE 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [3], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.900+07:00 DEBUG 23830 --- [http-nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2025-08-01T21:28:58.900+07:00 DEBUG 23830 --- [http-nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE users SET balance = ? WHERE id = ?]
2025-08-01T21:28:58.900+07:00 TRACE 23830 --- [http-nio-8080-exec-5] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [94.0], value class [java.lang.Double], SQL type unknown
2025-08-01T21:28:58.900+07:00 TRACE 23830 --- [http-nio-8080-exec-5] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [1], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.900+07:00 DEBUG 23830 --- [http-nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2025-08-01T21:28:58.900+07:00 DEBUG 23830 --- [http-nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE users SET balance = ? WHERE id = ?]
2025-08-01T21:28:58.900+07:00 TRACE 23830 --- [http-nio-8080-exec-3] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [94.0], value class [java.lang.Double], SQL type unknown
2025-08-01T21:28:58.901+07:00 TRACE 23830 --- [http-nio-8080-exec-3] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [5], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.913+07:00 TRACE 23830 --- [http-nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows
2025-08-01T21:28:58.912+07:00 TRACE 23830 --- [http-nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows
2025-08-01T21:28:58.913+07:00 TRACE 23830 --- [http-nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows
2025-08-01T21:28:58.913+07:00 DEBUG 23830 --- [http-nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2025-08-01T21:28:58.913+07:00 DEBUG 23830 --- [http-nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO transactions (user_id, amount, transaction_type) VALUES (?, ?, ?)]
2025-08-01T21:28:58.913+07:00 DEBUG 23830 --- [http-nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2025-08-01T21:28:58.912+07:00 TRACE 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows
2025-08-01T21:28:58.913+07:00 DEBUG 23830 --- [http-nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO transactions (user_id, amount, transaction_type) VALUES (?, ?, ?)]
2025-08-01T21:28:58.912+07:00 TRACE 23830 --- [http-nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows
2025-08-01T21:28:58.913+07:00 DEBUG 23830 --- [http-nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2025-08-01T21:28:58.913+07:00 DEBUG 23830 --- [http-nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2025-08-01T21:28:58.913+07:00 TRACE 23830 --- [http-nio-8080-exec-3] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [5], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.913+07:00 DEBUG 23830 --- [http-nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO transactions (user_id, amount, transaction_type) VALUES (?, ?, ?)]
2025-08-01T21:28:58.914+07:00 TRACE 23830 --- [http-nio-8080-exec-3] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [1.0], value class [java.lang.Double], SQL type unknown
2025-08-01T21:28:58.913+07:00 DEBUG 23830 --- [http-nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO transactions (user_id, amount, transaction_type) VALUES (?, ?, ?)]
2025-08-01T21:28:58.914+07:00 TRACE 23830 --- [http-nio-8080-exec-6] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [2], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.913+07:00 DEBUG 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2025-08-01T21:28:58.914+07:00 TRACE 23830 --- [http-nio-8080-exec-5] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [1], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.914+07:00 TRACE 23830 --- [http-nio-8080-exec-3] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 3, parameter value [DEBIT], value class [java.lang.String], SQL type unknown
2025-08-01T21:28:58.914+07:00 TRACE 23830 --- [http-nio-8080-exec-5] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [1.0], value class [java.lang.Double], SQL type unknown
2025-08-01T21:28:58.914+07:00 DEBUG 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO transactions (user_id, amount, transaction_type) VALUES (?, ?, ?)]
2025-08-01T21:28:58.914+07:00 TRACE 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.914+07:00 TRACE 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [1.0], value class [java.lang.Double], SQL type unknown
2025-08-01T21:28:58.914+07:00 TRACE 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 3, parameter value [DEBIT], value class [java.lang.String], SQL type unknown
2025-08-01T21:28:58.914+07:00 TRACE 23830 --- [http-nio-8080-exec-6] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [1.0], value class [java.lang.Double], SQL type unknown
2025-08-01T21:28:58.914+07:00 TRACE 23830 --- [http-nio-8080-exec-4] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.914+07:00 TRACE 23830 --- [http-nio-8080-exec-6] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 3, parameter value [DEBIT], value class [java.lang.String], SQL type unknown
2025-08-01T21:28:58.914+07:00 TRACE 23830 --- [http-nio-8080-exec-4] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [1.0], value class [java.lang.Double], SQL type unknown
2025-08-01T21:28:58.914+07:00 TRACE 23830 --- [http-nio-8080-exec-4] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 3, parameter value [DEBIT], value class [java.lang.String], SQL type unknown
2025-08-01T21:28:58.914+07:00 TRACE 23830 --- [http-nio-8080-exec-5] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 3, parameter value [DEBIT], value class [java.lang.String], SQL type unknown
2025-08-01T21:28:58.921+07:00 TRACE 23830 --- [http-nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows
2025-08-01T21:28:58.921+07:00 TRACE 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows
2025-08-01T21:28:58.921+07:00 TRACE 23830 --- [http-nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows
2025-08-01T21:28:58.921+07:00 TRACE 23830 --- [http-nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows
2025-08-01T21:28:58.921+07:00 DEBUG 23830 --- [http-nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2025-08-01T21:28:58.921+07:00 DEBUG 23830 --- [http-nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE tickets SET is_booked = true, version = version + 1 WHERE id = ? AND version = ?]
2025-08-01T21:28:58.921+07:00 DEBUG 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2025-08-01T21:28:58.921+07:00 DEBUG 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE tickets SET is_booked = true, version = version + 1 WHERE id = ? AND version = ?]
2025-08-01T21:28:58.921+07:00 TRACE 23830 --- [http-nio-8080-exec-5] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [1], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.921+07:00 DEBUG 23830 --- [http-nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2025-08-01T21:28:58.921+07:00 TRACE 23830 --- [http-nio-8080-exec-5] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [1], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.921+07:00 DEBUG 23830 --- [http-nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE tickets SET is_booked = true, version = version + 1 WHERE id = ? AND version = ?]
2025-08-01T21:28:58.921+07:00 TRACE 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [1], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.921+07:00 DEBUG 23830 --- [http-nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2025-08-01T21:28:58.921+07:00 TRACE 23830 --- [http-nio-8080-exec-3] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [1], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.921+07:00 TRACE 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [1], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.921+07:00 DEBUG 23830 --- [http-nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE tickets SET is_booked = true, version = version + 1 WHERE id = ? AND version = ?]
2025-08-01T21:28:58.922+07:00 TRACE 23830 --- [http-nio-8080-exec-3] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [1], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.922+07:00 TRACE 23830 --- [http-nio-8080-exec-6] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [1], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.922+07:00 TRACE 23830 --- [http-nio-8080-exec-6] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [1], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.922+07:00 TRACE 23830 --- [http-nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows
2025-08-01T21:28:58.922+07:00 DEBUG 23830 --- [http-nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2025-08-01T21:28:58.922+07:00 DEBUG 23830 --- [http-nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE tickets SET is_booked = true, version = version + 1 WHERE id = ? AND version = ?]
2025-08-01T21:28:58.922+07:00 TRACE 23830 --- [http-nio-8080-exec-4] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [1], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.922+07:00 TRACE 23830 --- [http-nio-8080-exec-4] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [1], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.923+07:00 TRACE 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows
2025-08-01T21:28:58.924+07:00  INFO 23830 --- [http-nio-8080-exec-7] c.e.e.s.service.TicketBookingService     : user 3 updatedRow 1
2025-08-01T21:28:58.925+07:00 DEBUG 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2025-08-01T21:28:58.925+07:00 DEBUG 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO bookings (user_id, ticket_id) VALUES (?, ?)]
2025-08-01T21:28:58.925+07:00 TRACE 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.925+07:00 TRACE 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [1], value class [java.lang.Integer], SQL type unknown
2025-08-01T21:28:58.926+07:00 TRACE 23830 --- [http-nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows
2025-08-01T21:28:58.927+07:00  INFO 23830 --- [http-nio-8080-exec-7] c.e.e.s.service.TicketBookingService     : User 3 booked ticket 1
2025-08-01T21:28:58.929+07:00 TRACE 23830 --- [http-nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : SQL update affected 0 rows
2025-08-01T21:28:58.929+07:00  INFO 23830 --- [http-nio-8080-exec-3] c.e.e.s.service.TicketBookingService     : user 5 updatedRow 0
2025-08-01T21:28:58.929+07:00  WARN 23830 --- [http-nio-8080-exec-3] c.e.e.s.service.TicketBookingService     : User 5 failed to book ticket 1
2025-08-01T21:28:58.930+07:00 TRACE 23830 --- [http-nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : SQL update affected 0 rows
2025-08-01T21:28:58.931+07:00  INFO 23830 --- [http-nio-8080-exec-4] c.e.e.s.service.TicketBookingService     : user 4 updatedRow 0
2025-08-01T21:28:58.931+07:00  WARN 23830 --- [http-nio-8080-exec-4] c.e.e.s.service.TicketBookingService     : User 4 failed to book ticket 1
2025-08-01T21:28:58.934+07:00 TRACE 23830 --- [http-nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : SQL update affected 0 rows
2025-08-01T21:28:58.935+07:00  INFO 23830 --- [http-nio-8080-exec-5] c.e.e.s.service.TicketBookingService     : user 1 updatedRow 0
2025-08-01T21:28:58.935+07:00  WARN 23830 --- [http-nio-8080-exec-5] c.e.e.s.service.TicketBookingService     : User 1 failed to book ticket 1
2025-08-01T21:28:58.936+07:00 TRACE 23830 --- [http-nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : SQL update affected 0 rows
2025-08-01T21:28:58.937+07:00  INFO 23830 --- [http-nio-8080-exec-6] c.e.e.s.service.TicketBookingService     : user 2 updatedRow 0
2025-08-01T21:28:58.937+07:00  WARN 23830 --- [http-nio-8080-exec-6] c.e.e.s.service.TicketBookingService     : User 2 failed to book ticket 1
2025-08-01T21:28:58.946+07:00  INFO 23830 --- [pool-2-thread-3] c.e.e.s.service.LoadTestService          : restTemplate Success Url=http://localhost:8080/api/bookings/book-ticket?userId=3&ticketId=1: response=Ticket booked successfully!
2025-08-01T21:28:58.968+07:00  WARN 23830 --- [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.engineerpro.example.springdata.exception.TicketBookedByAnother: Failed to book ticket.]
2025-08-01T21:28:58.968+07:00  WARN 23830 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.engineerpro.example.springdata.exception.TicketBookedByAnother: Failed to book ticket.]
2025-08-01T21:28:58.968+07:00  WARN 23830 --- [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.engineerpro.example.springdata.exception.TicketBookedByAnother: Failed to book ticket.]
2025-08-01T21:28:58.968+07:00  WARN 23830 --- [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.engineerpro.example.springdata.exception.TicketBookedByAnother: Failed to book ticket.]
2025-08-01T21:28:58.970+07:00  WARN 23830 --- [pool-2-thread-2] c.e.e.s.service.LoadTestService          : restTemplate Fail Url=http://localhost:8080/api/bookings/book-ticket?userId=2&ticketId=1: response=409 : "{"status":"CONFLICT","errorCode":"TICKET_BOOKED_BY_ANOTHER"}"
2025-08-01T21:28:58.970+07:00  WARN 23830 --- [pool-2-thread-4] c.e.e.s.service.LoadTestService          : restTemplate Fail Url=http://localhost:8080/api/bookings/book-ticket?userId=4&ticketId=1: response=409 : "{"status":"CONFLICT","errorCode":"TICKET_BOOKED_BY_ANOTHER"}"
2025-08-01T21:28:58.970+07:00  WARN 23830 --- [pool-2-thread-5] c.e.e.s.service.LoadTestService          : restTemplate Fail Url=http://localhost:8080/api/bookings/book-ticket?userId=5&ticketId=1: response=409 : "{"status":"CONFLICT","errorCode":"TICKET_BOOKED_BY_ANOTHER"}"
2025-08-01T21:28:58.970+07:00  WARN 23830 --- [pool-2-thread-1] c.e.e.s.service.LoadTestService          : restTemplate Fail Url=http://localhost:8080/api/bookings/book-ticket?userId=1&ticketId=1: response=409 : "{"status":"CONFLICT","errorCode":"TICKET_BOOKED_BY_ANOTHER"}"
2025-08-01T21:35:46.610+07:00  INFO 23830 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-01T21:35:46.647+07:00  INFO 23830 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
